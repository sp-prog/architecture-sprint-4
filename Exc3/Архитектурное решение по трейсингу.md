# Мотивация

Трейсинг позволит:
- увечитить скорость поиска причин возникновения ошибок, упростить поддержку системы,
уменьшит время решения проблем пользователей.
- отслеживать действия пользователей на всем маршруте обработке запроса от пользовательского
устройства до источника данных.
- быстрее выявлять узкие места системы и поможет их оптимизировать

# Предлагаемое решение

Для внедрения трейсинга необходимо:
- внедрить в приложение отправку данных об обработке запросов,
- настроить коллектор трейсов
- настроить хранилище трейсов

Т.к. в приложение нет трейсинга, то лучше выбрать наиболее знакомый способ его внедрения. Так же лучше выбирать наиболее распространненные и стнадртизированные решения.

В качестве такого способа можно выбрать внедрение в приложение OpenTelemetry (который уже должен быть внедрен для мониторинга и будет в дальнейшем использоваться для логирования) с экспортером для Jaeger в качестве SDK и Jaeger в качестве средаства сбора и отображения трасировок.

Схема находится в этой же папке в файле с названием jewerly_c4_model.drawio

# Компромиссы

Для микросервисов собственной разработки внедрение OpenTelemetry не должно представлять сложности

Для файлового сервера, если он работает по Http, можно попробовать использовать sidecar. В противному случае, даже если сервер OpenSource'ный, придется искать специалистов для его доработки, что может быть дорого.

Для БД и для брокерк вообщений, которык обычно работают по своим протоклам, скорее-всего готовых решений найти не удастся. Поэтому трассировку для этих сервисов девешле не делать.
В БД обычно имеестся своя система трассировки. Чтобы связать запросы из Jaeger с БД можно попробовать добавлять в трейсы ИД транзакций к БД.

# Безопасность

С системе трейсинга должен быть доступ только изнутри сети компании для согласованных с отделом безопасности ролей пользователей. Обычно такими ролями являются: поддержка 2ой и 3ей линии. Дежурные разраотчики.

Для большего контроля можно организовать сетевой доступ к серверам трейсинга только через терминальные сервера Доступ должен предоставляться только под учетными записями сотрудников компании.

